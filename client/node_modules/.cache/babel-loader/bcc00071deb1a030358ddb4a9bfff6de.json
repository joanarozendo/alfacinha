{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{list as listservice}from\"../../services/comments\";import\"./style.css\";import CommentCreateView from\"./CommentCreateView\";var CommentList=/*#__PURE__*/function(_Component){_inherits(CommentList,_Component);function CommentList(props){var _this;_classCallCheck(this,CommentList);_this=_possibleConstructorReturn(this,_getPrototypeOf(CommentList).call(this,props));_this.state={commentList:[]};_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(CommentList,[{key:\"componentDidMount\",value:function componentDidMount(){var resid,list;return _regeneratorRuntime.async(function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:resid=this.props.match.params.id;// console.log('RES ID: ', resid);\n_context.next=3;return _regeneratorRuntime.awrap(listservice(resid));case 3:list=_context.sent;this.setState({commentList:list});case 5:case\"end\":return _context.stop();}}},null,this);}},{key:\"onSubmit\",value:function onSubmit(){var resid,list;return _regeneratorRuntime.async(function onSubmit$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"CLICKED\");this.setState({commentList:!this.state.commentList});resid=this.props.match.params.id;// console.log('RES ID: ', resid);\n_context2.next=5;return _regeneratorRuntime.awrap(listservice(resid));case 5:list=_context2.sent;this.setState({commentList:list});case 7:case\"end\":return _context2.stop();}}},null,this);}},{key:\"render\",value:function render(){console.log(this.props);var comments=this.state.commentList;var user=this.props.user;console.log(\"should show user props\",user);return React.createElement(\"div\",{className:\"pl-4 ml-4\"},React.createElement(\"h1\",null,\"Comments\"),comments&&comments.map(function(comment){return React.createElement(\"div\",{className:\"UserComment card mb-3 text-dark w-75\"},React.createElement(\"div\",{className:\"row no-gutters\"},React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(\"img\",{className:\"CommentUserIcon\",src:user.image,alt:\"userIcon\"})),React.createElement(\"div\",{className:\"col-md-8 ml-2\"},React.createElement(\"h5\",{className:\"card-title\"},comment.user.name),comment.image&&React.createElement(\"img\",{className:\"CommentImg\",src:comment.image,alt:\"Comment pic\"}),React.createElement(\"div\",{className:\"card-text\"},React.createElement(\"p\",null,comment.text)))));}),React.createElement(CommentCreateView,Object.assign({},this.props,{onSubmit:this.onSubmit})));}}]);return CommentList;}(Component);export{CommentList as default};","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/views/Comments/CommentList.jsx"],"names":["React","Component","list","listservice","CommentCreateView","CommentList","props","state","commentList","onSubmit","bind","resid","match","params","id","setState","console","log","comments","user","map","comment","image","name","text"],"mappings":"sjCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAI,GAAIC,CAAAA,WAAjB,KAAoC,yBAApC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,C,GAEqBC,CAAAA,W,qEACnB,qBAAYC,KAAZ,CAAmB,6CACjB,6EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAAb,CAGA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CALiB,aAMlB,C,gOAGOC,K,CAAQ,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,E,CACtC;iDACmBX,WAAW,CAACQ,KAAD,C,SAAxBT,I,eACN,KAAKa,QAAL,CAAc,CACZP,WAAW,CAAEN,IADD,CAAd,E,wOAMAc,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,KAAKF,QAAL,CAAc,CAAEP,WAAW,CAAE,CAAC,KAAKD,KAAL,CAAWC,WAA3B,CAAd,EACMG,K,CAAQ,KAAKL,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBC,E,CACtC;kDACmBX,WAAW,CAACQ,KAAD,C,SAAxBT,I,gBACN,KAAKa,QAAL,CAAc,CACZP,WAAW,CAAEN,IADD,CAAd,E,gGAKO,CACPc,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAjB,EACA,GAAMY,CAAAA,QAAQ,CAAG,KAAKX,KAAL,CAAWC,WAA5B,CACA,GAAMW,CAAAA,IAAI,CAAG,KAAKb,KAAL,CAAWa,IAAxB,CACAH,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCE,IAAtC,EAEA,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,yCADF,CAEGD,QAAQ,EACPA,QAAQ,CAACE,GAAT,CAAa,SAAAC,OAAO,QAClB,4BAAK,SAAS,CAAC,sCAAf,EACE,2BAAK,SAAS,CAAC,gBAAf,EACE,2BAAK,SAAS,CAAC,UAAf,EACE,2BAAK,SAAS,CAAC,iBAAf,CAAiC,GAAG,CAAEF,IAAI,CAACG,KAA3C,CAAkD,GAAG,CAAC,UAAtD,EADF,CADF,CAIE,2BAAK,SAAS,CAAC,eAAf,EACE,0BAAI,SAAS,CAAC,YAAd,EAA4BD,OAAO,CAACF,IAAR,CAAaI,IAAzC,CADF,CAEGF,OAAO,CAACC,KAAR,EACC,2BACE,SAAS,CAAC,YADZ,CAEE,GAAG,CAAED,OAAO,CAACC,KAFf,CAGE,GAAG,CAAC,aAHN,EAHJ,CASE,2BAAK,SAAS,CAAC,WAAf,EACE,6BAAID,OAAO,CAACG,IAAZ,CADF,CATF,CAJF,CADF,CADkB,EAApB,CAHJ,CAyBE,oBAAC,iBAAD,kBAAuB,KAAKlB,KAA5B,EAAmC,QAAQ,CAAE,KAAKG,QAAlD,GAzBF,CADF,CA6BD,C,yBAhEsCR,S,SAApBI,W","sourcesContent":["import React, { Component } from \"react\";\nimport { list as listservice } from \"../../services/comments\";\nimport \"./style.css\";\nimport CommentCreateView from \"./CommentCreateView\";\n\nexport default class CommentList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentList: []\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    const resid = this.props.match.params.id;\n    // console.log('RES ID: ', resid);\n    const list = await listservice(resid);\n    this.setState({\n      commentList: list\n    });\n  }\n\n  async onSubmit() {\n    console.log(\"CLICKED\");\n    this.setState({ commentList: !this.state.commentList });\n    const resid = this.props.match.params.id;\n    // console.log('RES ID: ', resid);\n    const list = await listservice(resid);\n    this.setState({\n      commentList: list\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    const comments = this.state.commentList;\n    const user = this.props.user;\n    console.log(\"should show user props\", user);\n\n    return (\n      <div className=\"pl-4 ml-4\">\n        <h1>Comments</h1>\n        {comments &&\n          comments.map(comment => (\n            <div className=\"UserComment card mb-3 text-dark w-75\">\n              <div className=\"row no-gutters\">\n                <div className=\"col-md-2\">\n                  <img className=\"CommentUserIcon\" src={user.image} alt=\"userIcon\" />\n                </div>\n                <div className=\"col-md-8 ml-2\">\n                  <h5 className=\"card-title\">{comment.user.name}</h5>\n                  {comment.image && (\n                    <img\n                      className=\"CommentImg\"\n                      src={comment.image}\n                      alt=\"Comment pic\"\n                    />\n                  )}\n                  <div className=\"card-text\">\n                    <p>{comment.text}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        <CommentCreateView {...this.props} onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}