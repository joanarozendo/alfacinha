{"ast":null,"code":"import _objectSpread from \"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/views/Authentication/JoinView.jsx\";\nimport React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\nimport { join as joinService } from \"../../services/authentication\";\nimport \"./style.css\";\n\nclass AuthenticationJoinView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      username: \"\",\n      aboutMe: \"\",\n      email: \"\",\n      password: \"\",\n      image: null,\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState(_objectSpread({}, this.state, {\n      [name]: value\n    }));\n  }\n\n  handleFileChange(event) {\n    console.dir(event.target.files);\n    const file = event.target.files[0];\n    this.setState({\n      image: file\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          username = _this$state.username,\n          name = _this$state.name,\n          image = _this$state.image,\n          aboutMe = _this$state.aboutMe;\n\n    try {\n      const user = await joinService({\n        email,\n        password,\n        username,\n        name,\n        image,\n        aboutMe\n      });\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({\n        error: true\n      });\n      console.log(error);\n    }\n  }\n\n  render() {\n    // const user = this.state.user;\n    return React.createElement(\"main\", {\n      className: \"pt-5 mt-5 mx-5 text-center d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmission,\n      className: \"form-signin LoginJoinForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Image, {\n      fluid: true,\n      className: \"mb-4 LoginJoinImg\",\n      src: \"/images/alfacinha-logo1.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      type: \"name\",\n      placeholder: \"Name\",\n      value: this.state.name,\n      name: \"name\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      value: this.state.email,\n      name: \"email\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"username\",\n      placeholder: \"Username\",\n      value: this.state.username,\n      name: \"username\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      name: \"password\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"About Me\"), React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Write something here\",\n      value: this.state.aboutMe,\n      name: \"aboutMe\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"image\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"input\", {\n      type: \"file\",\n      placeholder: \"Profile Picture\",\n      name: \"image\",\n      className: \"form-control mb-3\",\n      onChange: this.handleFileChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), this.state.error && React.createElement(\"div\", {\n      class: \"alert alert-danger\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Ops.. Email or username already exist!\"), React.createElement(\"button\", {\n      className: \"btn btn-lg MyBtn btn-block mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Join\")));\n  }\n\n}\n\nexport default AuthenticationJoinView;","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/views/Authentication/JoinView.jsx"],"names":["React","Component","Image","join","joinService","AuthenticationJoinView","constructor","props","state","name","username","aboutMe","email","password","image","error","handleInputChange","bind","handleFileChange","handleFormSubmission","event","target","value","setState","console","dir","files","file","preventDefault","user","changeAuthenticationStatus","history","push","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { join as joinService } from \"../../services/authentication\";\n\nimport \"./style.css\";\n\nclass AuthenticationJoinView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      username: \"\",\n      aboutMe: \"\",\n      email: \"\",\n      password: \"\",\n      image: null,\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  }\n\n  handleFileChange(event) {\n    console.dir(event.target.files);\n    const file = event.target.files[0];\n    this.setState({\n      image: file\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const { email, password, username, name, image, aboutMe } = this.state;\n    try {\n      const user = await joinService({\n        email,\n        password,\n        username,\n        name,\n        image,\n        aboutMe\n      });\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({ error: true });\n      console.log(error);\n    }\n  }\n\n  render() {\n    // const user = this.state.user;\n    return (\n      <main className=\"pt-5 mt-5 mx-5 text-center d-flex justify-content-center\">\n        <form\n          onSubmit={this.handleFormSubmission}\n          className=\"form-signin LoginJoinForm\"\n        >\n          <Image\n            fluid\n            className=\"mb-4 LoginJoinImg\"\n            src=\"/images/alfacinha-logo1.png\"\n            alt=\"\"\n          />\n          <label htmlFor=\"name\" className=\"sr-only\">\n            Name\n          </label>\n          <input\n            type=\"name\"\n            placeholder=\"Name\"\n            value={this.state.name}\n            name=\"name\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"email\" className=\"sr-only\">\n            Email\n          </label>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={this.state.email}\n            name=\"email\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"username\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"username\"\n            placeholder=\"Username\"\n            value={this.state.username}\n            name=\"username\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={this.state.password}\n            name=\"password\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"name\" className=\"sr-only\">\n            About Me\n          </label>\n          <textarea\n            type=\"text\"\n            placeholder=\"Write something here\"\n            value={this.state.aboutMe}\n            name=\"aboutMe\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          ></textarea>\n          <label htmlFor=\"image\" className=\"sr-only\">\n            Image\n          </label>\n          <input\n            type=\"file\"\n            placeholder=\"Profile Picture\"\n            name=\"image\"\n            className=\"form-control mb-3\"\n            onChange={this.handleFileChange}\n          />\n\n          {this.state.error && (\n            <div class=\"alert alert-danger\" role=\"alert\">\n              Ops.. Email or username already exist!\n            </div>\n          )}\n          <button className=\"btn btn-lg MyBtn btn-block mb-5\">Join</button>\n          {/* <p class=\"mt-5 mb-3 text-muted\">&copy; 2019</p> */}\n        </form>\n      </main>\n    );\n  }\n}\n\nexport default AuthenticationJoinView;\n"]},"metadata":{},"sourceType":"module"}