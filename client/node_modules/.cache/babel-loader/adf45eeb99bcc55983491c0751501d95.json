{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import axios from'axios';var zomatoApi=axios.create({baseURL:'https://developers.zomato.com/api/v2.1',headers:{'user-key':'e11fa2bac7d90c8e1c7b4b367823e292'}});export var listRestaurants=function listRestaurants(){var response1,response2,response3,response4,response5,array1,array2,array3,array4,array5,newArray;return _regeneratorRuntime.async(function listRestaurants$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(zomatoApi.get('/search?entity_id=82&entity_type=city&start=1&count=20&cuisines=308'));case 3:response1=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(zomatoApi.get('/search?entity_id=82&entity_type=city&start=21&count=40&cuisines=308'));case 6:response2=_context.sent;_context.next=9;return _regeneratorRuntime.awrap(zomatoApi.get('/search?entity_id=82&entity_type=city&start=41&count=60&cuisines=308'));case 9:response3=_context.sent;_context.next=12;return _regeneratorRuntime.awrap(zomatoApi.get('/search?entity_id=82&entity_type=city&start=61&count=80&cuisines=308'));case 12:response4=_context.sent;_context.next=15;return _regeneratorRuntime.awrap(zomatoApi.get('/search?entity_id=82&entity_type=city&start=81&count=100&cuisines=308'));case 15:response5=_context.sent;array1=response1.data.restaurants;array2=response2.data.restaurants;array3=response3.data.restaurants;array4=response4.data.restaurants;array5=response5.data.restaurants;newArray=[].concat(_toConsumableArray(array1),_toConsumableArray(array2),_toConsumableArray(array3),_toConsumableArray(array4),_toConsumableArray(array5));return _context.abrupt(\"return\",newArray);case 25:_context.prev=25;_context.t0=_context[\"catch\"](0);console.log('There was an error from ZOMATO API');throw _context.t0;case 29:case\"end\":return _context.stop();}}},null,null,[[0,25]]);};export var loadRestaurant=function loadRestaurant(id){var response,singleRestaurant;return _regeneratorRuntime.async(function loadRestaurant$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(zomatoApi.get(\"/restaurant?res_id=\".concat(id)));case 3:response=_context2.sent;singleRestaurant=response.data;console.log(response.data);return _context2.abrupt(\"return\",singleRestaurant);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);throw _context2.t0;case 13:case\"end\":return _context2.stop();}}},null,null,[[0,9]]);};// export const loadRestaurant = async function() {\n//   try {\n//     const response = await zomatoApi.get(\n//       '/search?entity_id=82&entity_type=city&start=81&count=100&cuisines=308'\n//     );\n//     const singleRestaurant = response.data.singleRestaurant;\n//     return singleRestaurant;\n//   } catch (error) {\n//     throw error;\n//   }\n// };","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/services/restaurantZomato.js"],"names":["axios","zomatoApi","create","baseURL","headers","listRestaurants","get","response1","response2","response3","response4","response5","array1","data","restaurants","array2","array3","array4","array5","newArray","console","log","loadRestaurant","id","response","singleRestaurant"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,SAAS,CAAGD,KAAK,CAACE,MAAN,CAAa,CAC7BC,OAAO,CAAE,wCADoB,CAE7BC,OAAO,CAAE,CACP,WAAY,kCADL,CAFoB,CAAb,CAAlB,CAOA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,+RAEHJ,SAAS,CAACK,GAAV,CACtB,qEADsB,CAFG,SAErBC,SAFqB,gEAKHN,SAAS,CAACK,GAAV,CACtB,sEADsB,CALG,SAKrBE,SALqB,gEAQHP,SAAS,CAACK,GAAV,CACtB,sEADsB,CARG,SAQrBG,SARqB,iEAWHR,SAAS,CAACK,GAAV,CACtB,sEADsB,CAXG,UAWrBI,SAXqB,iEAcHT,SAAS,CAACK,GAAV,CACtB,uEADsB,CAdG,UAcrBK,SAdqB,eAkBrBC,MAlBqB,CAkBZL,SAAS,CAACM,IAAV,CAAeC,WAlBH,CAmBrBC,MAnBqB,CAmBZP,SAAS,CAACK,IAAV,CAAeC,WAnBH,CAoBrBE,MApBqB,CAoBZP,SAAS,CAACI,IAAV,CAAeC,WApBH,CAqBrBG,MArBqB,CAqBZP,SAAS,CAACG,IAAV,CAAeC,WArBH,CAsBrBI,MAtBqB,CAsBZP,SAAS,CAACE,IAAV,CAAeC,WAtBH,CAwBrBK,QAxBqB,8BAwBNP,MAxBM,qBAyBtBG,MAzBsB,qBA0BtBC,MA1BsB,qBA2BtBC,MA3BsB,qBA4BtBC,MA5BsB,mCA8BpBC,QA9BoB,4DAgC3BC,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAhC2B,oFAAxB,CAqCP,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAMC,EAAN,8NAEHtB,SAAS,CAACK,GAAV,8BAAoCiB,EAApC,EAFG,SAEpBC,QAFoB,gBAGpBC,gBAHoB,CAGDD,QAAQ,CAACX,IAHR,CAI1BO,OAAO,CAACC,GAAR,CAAYG,QAAQ,CAACX,IAArB,EAJ0B,iCAMnBY,gBANmB,6DAQ1BL,OAAO,CAACC,GAAR,eAR0B,qFAAvB,CAYP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\n\nconst zomatoApi = axios.create({\n  baseURL: 'https://developers.zomato.com/api/v2.1',\n  headers: {\n    'user-key': 'e11fa2bac7d90c8e1c7b4b367823e292'\n  }\n});\n\nexport const listRestaurants = async function () {\n  try {\n    const response1 = await zomatoApi.get(\n      '/search?entity_id=82&entity_type=city&start=1&count=20&cuisines=308'\n    );\n    const response2 = await zomatoApi.get(\n      '/search?entity_id=82&entity_type=city&start=21&count=40&cuisines=308'\n    );\n    const response3 = await zomatoApi.get(\n      '/search?entity_id=82&entity_type=city&start=41&count=60&cuisines=308'\n    );\n    const response4 = await zomatoApi.get(\n      '/search?entity_id=82&entity_type=city&start=61&count=80&cuisines=308'\n    );\n    const response5 = await zomatoApi.get(\n      '/search?entity_id=82&entity_type=city&start=81&count=100&cuisines=308'\n    );\n\n    const array1 = response1.data.restaurants;\n    const array2 = response2.data.restaurants;\n    const array3 = response3.data.restaurants;\n    const array4 = response4.data.restaurants;\n    const array5 = response5.data.restaurants;\n\n    const newArray = [...array1,\n      ...array2,\n      ...array3,\n      ...array4,\n      ...array5\n    ]\n    return newArray\n  } catch (error) {\n    console.log('There was an error from ZOMATO API');\n    throw error;\n  }\n};\n\nexport const loadRestaurant = async id => {\n  try {\n    const response = await zomatoApi.get(`/restaurant?res_id=${id}`);\n    const singleRestaurant = response.data;\n    console.log(response.data);\n\n    return singleRestaurant;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n// export const loadRestaurant = async function() {\n//   try {\n//     const response = await zomatoApi.get(\n//       '/search?entity_id=82&entity_type=city&start=81&count=100&cuisines=308'\n//     );\n//     const singleRestaurant = response.data.singleRestaurant;\n//     return singleRestaurant;\n//   } catch (error) {\n//     throw error;\n//   }\n// };"]},"metadata":{},"sourceType":"module"}