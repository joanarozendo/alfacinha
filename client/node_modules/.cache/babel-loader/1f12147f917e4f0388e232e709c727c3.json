{"ast":null,"code":"var _jsxFileName = \"/Users/rodrigoborba/ironhack/projects/alfacinha/client/src/views/Authentication/LogInView.jsx\";\nimport React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\nimport { logIn as logInService } from \"../../services/authentication\";\nimport \"./style.css\";\n\nclass AuthenticationLogInView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n\n    try {\n      const user = await logInService({\n        username,\n        password\n      }); // console.log(user);\n\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({\n        error: true\n      });\n      console.log(error);\n    }\n  }\n\n  render() {\n    return React.createElement(\"main\", {\n      className: \"pt-5 m-5 text-center d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmission,\n      className: \"form-signin LoginJoinForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Image, {\n      fluid: true,\n      className: \"mb-4 LoginJoinImg\",\n      src: \"/images/alfacinha-logo1.png\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"username\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Username\",\n      id: \"username\",\n      value: this.state.username,\n      name: \"username\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      id: \"password\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      id: \"password\",\n      value: this.state.password,\n      name: \"password\",\n      className: \"form-control mb-3\",\n      onChange: this.handleInputChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.error && React.createElement(\"div\", {\n      class: \"alert alert-danger\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Validation failed! \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), \" Check username and password and try again.\"), React.createElement(\"button\", {\n      className: \"btn btn-lg MyBtn btn-block mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Log In\")));\n  }\n\n}\n\nexport default AuthenticationLogInView;","map":{"version":3,"sources":["/Users/rodrigoborba/ironhack/projects/alfacinha/client/src/views/Authentication/LogInView.jsx"],"names":["React","Component","Image","logIn","logInService","AuthenticationLogInView","constructor","props","state","username","password","error","handleInputChange","bind","handleFormSubmission","event","name","target","value","setState","preventDefault","user","changeAuthenticationStatus","history","push","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { logIn as logInService } from \"../../services/authentication\";\n\nimport \"./style.css\";\n\nclass AuthenticationLogInView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const { username, password } = this.state;\n    try {\n      const user = await logInService({ username, password });\n      // console.log(user);\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({ error: true });\n      console.log(error);\n    }\n  }\n\n  render() {\n    return (\n      <main className=\"pt-5 m-5 text-center d-flex justify-content-center\">\n        <form\n          onSubmit={this.handleFormSubmission}\n          className=\"form-signin LoginJoinForm\"\n        >\n          <Image\n            fluid\n            className=\"mb-4 LoginJoinImg\"\n            src=\"/images/alfacinha-logo1.png\"\n            alt=\"\"\n          />\n          <label htmlFor=\"username\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            id=\"username\"\n            value={this.state.username}\n            name=\"username\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"password\" id=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            id=\"password\"\n            value={this.state.password}\n            name=\"password\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          {this.state.error && (\n            <div class=\"alert alert-danger\" role=\"alert\">\n            Validation failed! <br /> Check username and password\n            and try again.\n          </div>\n          )}\n          <button className=\"btn btn-lg MyBtn btn-block mb-5\">Log In</button>\n          {/* <p class=\"mt-5 mb-3 text-muted\">&copy; 2019</p> */}\n        </form>\n      </main>\n    );\n  }\n}\n\nexport default AuthenticationLogInView;\n"]},"metadata":{},"sourceType":"module"}