{"ast":null,"code":"var _jsxFileName = \"/Users/joaoevangelho/ironhack/projects/alfacinha/client/src/components/MapBox.jsx\";\nimport React, { Component } from \"react\";\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl\"; // NEW\n\nimport \"mapbox-gl/dist/mapbox-gl.css\"; // Import of Mapbox CSS\n\nmapboxgl.accessToken = \"pk.eyJ1IjoiZ3RjYXJtb25hIiwiYSI6ImNrMzc1dmxnNTAyb3kzaG5vZmhhazYzcTAifQ.pn8VB17KBKKfWtOmPo7kWQ\";\n\nclass MapBox extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getCurrentCoordinates = () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          this.setState({\n            lng: position.coords.longitude,\n            lat: position.coords.latitude\n          });\n          this.initMap(this.state.lng, this.state.lat);\n        });\n      }\n    };\n\n    this.state = {\n      lng: \"\",\n      lat: \"\",\n      restaurants: null\n    };\n    this.mapRef = React.createRef();\n    this.map = null;\n    this.initMap = this.initMap.bind(this);\n  }\n\n  initMap(lng, lat) {\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current,\n      // container id\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      // stylesheet location\n      center: [lng, lat],\n      // starting position [lng, lat]\n      zoom: 11 // starting zoom\n\n    });\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.marker = new mapboxgl.Marker({\n      color: \"blue\"\n    }).setLngLat([lng, lat]).addTo(this.map);\n    this.markerRestaurant = new mapboxgl.Marker({\n      color: \"green\"\n    }).setLngLat([this.props.lng, this.props.lat]).addTo(this.map);\n  }\n\n  componentDidMount() {\n    this.getCurrentCoordinates();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"mapbox\",\n      ref: this.mapRef,\n      style: {\n        height: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default MapBox;","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/client/src/components/MapBox.jsx"],"names":["React","Component","mapboxgl","accessToken","MapBox","constructor","props","getCurrentCoordinates","navigator","geolocation","getCurrentPosition","position","setState","lng","coords","longitude","lat","latitude","initMap","state","restaurants","mapRef","createRef","map","bind","Map","container","current","style","center","zoom","addControl","NavigationControl","marker","Marker","color","setLngLat","addTo","markerRestaurant","componentDidMount","render","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,0BAArB,C,CAAiD;;AACjD,OAAO,8BAAP,C,CAAuC;;AAEvCA,QAAQ,CAACC,WAAT,GACE,8FADF;;AAGA,MAAMC,MAAN,SAAqBH,SAArB,CAA+B;AAC7BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAkCnBC,qBAlCmB,GAkCK,MAAM;AAC5B,UAAIC,SAAS,CAACC,WAAd,EAA2B;AACzBD,QAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCC,QAAQ,IAAI;AACnD,eAAKC,QAAL,CAAc;AACZC,YAAAA,GAAG,EAAEF,QAAQ,CAACG,MAAT,CAAgBC,SADT;AAEZC,YAAAA,GAAG,EAAEL,QAAQ,CAACG,MAAT,CAAgBG;AAFT,WAAd;AAIA,eAAKC,OAAL,CAAa,KAAKC,KAAL,CAAWN,GAAxB,EAA6B,KAAKM,KAAL,CAAWH,GAAxC;AACD,SAND;AAOD;AACF,KA5CkB;;AAEjB,SAAKG,KAAL,GAAa;AACXN,MAAAA,GAAG,EAAE,EADM;AAEXG,MAAAA,GAAG,EAAE,EAFM;AAGXI,MAAAA,WAAW,EAAE;AAHF,KAAb;AAKA,SAAKC,MAAL,GAAcrB,KAAK,CAACsB,SAAN,EAAd;AACA,SAAKC,GAAL,GAAW,IAAX;AACA,SAAKL,OAAL,GAAe,KAAKA,OAAL,CAAaM,IAAb,CAAkB,IAAlB,CAAf;AACD;;AAEDN,EAAAA,OAAO,CAACL,GAAD,EAAMG,GAAN,EAAW;AAChB,SAAKO,GAAL,GAAW,IAAIrB,QAAQ,CAACuB,GAAb,CAAiB;AAC1BC,MAAAA,SAAS,EAAE,KAAKL,MAAL,CAAYM,OADG;AACM;AAChCC,MAAAA,KAAK,EAAE,oCAFmB;AAEmB;AAC7CC,MAAAA,MAAM,EAAE,CAAChB,GAAD,EAAMG,GAAN,CAHkB;AAGN;AACpBc,MAAAA,IAAI,EAAE,EAJoB,CAIjB;;AAJiB,KAAjB,CAAX;AAOA,SAAKP,GAAL,CAASQ,UAAT,CAAoB,IAAI7B,QAAQ,CAAC8B,iBAAb,EAApB;AACA,SAAKC,MAAL,GAAc,IAAI/B,QAAQ,CAACgC,MAAb,CAAoB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAApB,EACXC,SADW,CACD,CAACvB,GAAD,EAAMG,GAAN,CADC,EAEXqB,KAFW,CAEL,KAAKd,GAFA,CAAd;AAGA,SAAKe,gBAAL,GAAwB,IAAIpC,QAAQ,CAACgC,MAAb,CAAoB;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAApB,EAErBC,SAFqB,CAEX,CAAC,KAAK9B,KAAL,CAAWO,GAAZ,EAAiB,KAAKP,KAAL,CAAWU,GAA5B,CAFW,EAGrBqB,KAHqB,CAGf,KAAKd,GAHU,CAAxB;AAID;;AAEDgB,EAAAA,iBAAiB,GAAG;AAClB,SAAKhC,qBAAL;AACD;;AAcDiC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAwB,MAAA,GAAG,EAAE,KAAKnB,MAAlC;AAA0C,MAAA,KAAK,EAAE;AAAEoB,QAAAA,MAAM,EAAE;AAAV,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AAnD4B;;AAsD/B,eAAerC,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport mapboxgl from \"mapbox-gl/dist/mapbox-gl\"; // NEW\nimport \"mapbox-gl/dist/mapbox-gl.css\"; // Import of Mapbox CSS\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZ3RjYXJtb25hIiwiYSI6ImNrMzc1dmxnNTAyb3kzaG5vZmhhazYzcTAifQ.pn8VB17KBKKfWtOmPo7kWQ\";\n\nclass MapBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: \"\",\n      lat: \"\",\n      restaurants: null\n    };\n    this.mapRef = React.createRef();\n    this.map = null;\n    this.initMap = this.initMap.bind(this);\n  }\n\n  initMap(lng, lat) {\n    this.map = new mapboxgl.Map({\n      container: this.mapRef.current, // container id\n      style: \"mapbox://styles/mapbox/streets-v11\", // stylesheet location\n      center: [lng, lat], // starting position [lng, lat]\n      zoom: 11 // starting zoom\n    });\n\n    this.map.addControl(new mapboxgl.NavigationControl());\n    this.marker = new mapboxgl.Marker({ color: \"blue\" })\n      .setLngLat([lng, lat])\n      .addTo(this.map);\n    this.markerRestaurant = new mapboxgl.Marker({ color: \"green\" })\n\n      .setLngLat([this.props.lng, this.props.lat])\n      .addTo(this.map);\n  }\n\n  componentDidMount() {\n    this.getCurrentCoordinates();\n  }\n\n  getCurrentCoordinates = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.setState({\n          lng: position.coords.longitude,\n          lat: position.coords.latitude\n        });\n        this.initMap(this.state.lng, this.state.lat);\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"mapbox\" ref={this.mapRef} style={{ height: 200 }}></div>\n    );\n  }\n}\n\nexport default MapBox;\n"]},"metadata":{},"sourceType":"module"}