{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Image from\"react-bootstrap/Image\";import{logIn as logInService}from\"../../services/authentication\";import\"./style.css\";var AuthenticationLogInView=/*#__PURE__*/function(_Component){_inherits(AuthenticationLogInView,_Component);function AuthenticationLogInView(props){var _this;_classCallCheck(this,AuthenticationLogInView);_this=_possibleConstructorReturn(this,_getPrototypeOf(AuthenticationLogInView).call(this,props));_this.state={username:\"\",password:\"\",error:false};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleFormSubmission=_this.handleFormSubmission.bind(_assertThisInitialized(_this));return _this;}_createClass(AuthenticationLogInView,[{key:\"handleInputChange\",value:function handleInputChange(event){var name=event.target.name;var value=event.target.value;this.setState(_defineProperty({},name,value));}},{key:\"handleFormSubmission\",value:function handleFormSubmission(event){var _this$state,username,password,user;return _regeneratorRuntime.async(function handleFormSubmission$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=this.state,username=_this$state.username,password=_this$state.password;_context.prev=2;_context.next=5;return _regeneratorRuntime.awrap(logInService({username:username,password:password}));case 5:user=_context.sent;// console.log(user);\nthis.props.changeAuthenticationStatus(user);this.props.history.push(\"/\");_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);this.setState({error:true});console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},null,this,[[2,10]]);}},{key:\"render\",value:function render(){return React.createElement(\"main\",{className:\"pt-5 m-5 text-center d-flex justify-content-center\"},React.createElement(\"form\",{onSubmit:this.handleFormSubmission,className:\"form-signin LoginJoinForm\"},React.createElement(Image,{fluid:true,className:\"mb-4 LoginJoinImg\",src:\"/images/alfacinha-logo1.png\",alt:\"\"}),React.createElement(\"label\",{htmlFor:\"username\",className:\"sr-only\"},\"Username\"),React.createElement(\"input\",{type:\"text\",placeholder:\"Username\",id:\"username\",value:this.state.username,name:\"username\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"password\",id:\"password\",className:\"sr-only\"},\"Password\"),React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",value:this.state.password,name:\"password\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),this.state.error&&React.createElement(\"div\",{class:\"alert alert-danger\",role:\"alert\"},\"Validation failed! \",React.createElement(\"br\",null),\" Check username and password and try again.\"),React.createElement(\"button\",{className:\"btn btn-lg MyBtn btn-block mb-5\"},\"Log In\")));}}]);return AuthenticationLogInView;}(Component);export default AuthenticationLogInView;","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/views/Authentication/LogInView.jsx"],"names":["React","Component","Image","logIn","logInService","AuthenticationLogInView","props","state","username","password","error","handleInputChange","bind","handleFormSubmission","event","name","target","value","setState","preventDefault","user","changeAuthenticationStatus","history","push","console","log"],"mappings":"+sCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CAEA,OAASC,KAAK,GAAIC,CAAAA,YAAlB,KAAsC,+BAAtC,CAEA,MAAO,aAAP,C,GAEMC,CAAAA,uB,iFACJ,iCAAYC,KAAZ,CAAmB,yDACjB,yFAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAGXC,KAAK,CAAE,KAHI,CAAb,CAKA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB,CACA,MAAKC,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BD,IAA1B,+BAA5B,CARiB,aASlB,C,gGAEiBE,K,CAAO,CACvB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAME,CAAAA,KAAK,CAAGH,KAAK,CAACE,MAAN,CAAaC,KAA3B,CACA,KAAKC,QAAL,oBACGH,IADH,CACUE,KADV,GAGD,C,kEAE0BH,K,uKACzBA,KAAK,CAACK,cAAN,G,YAC+B,KAAKZ,K,CAA5BC,Q,aAAAA,Q,CAAUC,Q,aAAAA,Q,kEAEGL,YAAY,CAAC,CAAEI,QAAQ,CAARA,QAAF,CAAYC,QAAQ,CAARA,QAAZ,CAAD,C,SAAzBW,I,eACN;AACA,KAAKd,KAAL,CAAWe,0BAAX,CAAsCD,IAAtC,EACA,KAAKd,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,M,iFAEA,KAAKL,QAAL,CAAc,CAAER,KAAK,CAAE,IAAT,CAAd,EACAc,OAAO,CAACC,GAAR,c,yGAIK,CACP,MACE,6BAAM,SAAS,CAAC,oDAAhB,EACE,4BACE,QAAQ,CAAE,KAAKZ,oBADjB,CAEE,SAAS,CAAC,2BAFZ,EAIE,oBAAC,KAAD,EACE,KAAK,KADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,GAAG,CAAC,6BAHN,CAIE,GAAG,CAAC,EAJN,EAJF,CAUE,6BAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,SAApC,aAVF,CAaE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,EAAE,CAAC,UAHL,CAIE,KAAK,CAAE,KAAKN,KAAL,CAAWC,QAJpB,CAKE,IAAI,CAAC,UALP,CAME,SAAS,CAAC,mBANZ,CAOE,QAAQ,CAAE,KAAKG,iBAPjB,CAQE,QAAQ,KARV,EAbF,CAuBE,6BAAO,OAAO,CAAC,UAAf,CAA0B,EAAE,CAAC,UAA7B,CAAwC,SAAS,CAAC,SAAlD,aAvBF,CA0BE,6BACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,EAAE,CAAC,UAHL,CAIE,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QAJpB,CAKE,IAAI,CAAC,UALP,CAME,SAAS,CAAC,mBANZ,CAOE,QAAQ,CAAE,KAAKE,iBAPjB,CAQE,QAAQ,KARV,EA1BF,CAoCG,KAAKJ,KAAL,CAAWG,KAAX,EACC,2BAAK,KAAK,CAAC,oBAAX,CAAgC,IAAI,CAAC,OAArC,wBACmB,8BADnB,+CArCJ,CA0CE,8BAAQ,SAAS,CAAC,iCAAlB,WA1CF,CADF,CADF,CAiDD,C,qCApFmCT,S,EAuFtC,cAAeI,CAAAA,uBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { logIn as logInService } from \"../../services/authentication\";\n\nimport \"./style.css\";\n\nclass AuthenticationLogInView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const { username, password } = this.state;\n    try {\n      const user = await logInService({ username, password });\n      // console.log(user);\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({ error: true });\n      console.log(error);\n    }\n  }\n\n  render() {\n    return (\n      <main className=\"pt-5 m-5 text-center d-flex justify-content-center\">\n        <form\n          onSubmit={this.handleFormSubmission}\n          className=\"form-signin LoginJoinForm\"\n        >\n          <Image\n            fluid\n            className=\"mb-4 LoginJoinImg\"\n            src=\"/images/alfacinha-logo1.png\"\n            alt=\"\"\n          />\n          <label htmlFor=\"username\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            id=\"username\"\n            value={this.state.username}\n            name=\"username\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"password\" id=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            id=\"password\"\n            value={this.state.password}\n            name=\"password\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          {this.state.error && (\n            <div class=\"alert alert-danger\" role=\"alert\">\n            Validation failed! <br /> Check username and password\n            and try again.\n          </div>\n          )}\n          <button className=\"btn btn-lg MyBtn btn-block mb-5\">Log In</button>\n          {/* <p class=\"mt-5 mb-3 text-muted\">&copy; 2019</p> */}\n        </form>\n      </main>\n    );\n  }\n}\n\nexport default AuthenticationLogInView;\n"]},"metadata":{},"sourceType":"module"}