{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{BrowserRouter,Switch,Route,Redirect}from'react-router-dom';import'./App.css';import Navbar from'./components/Navbar';import Footer from'./components/Footer';import Homepage from'./views/Homepage/Homepage';import AuthenticationLoginView from'./views/Authentication/LogInView';import AuthenticationJoinView from'./views/Authentication/JoinView';import UserProfileView from'./views/User/UserProfileView';import UserEditProfileView from'./views/User/UserEditProfileView';import RestaurantListView from'./views/Restaurants/RestaurantListView';import SingleRestaurantView from'./views/Restaurants/SingleRestaurantView';import ShopListView from'./views/Shops/ShopListView';import SingleShopView from'./views/Shops/SingleShopView';import EventListView from'./views/Events/EventListView';import SingleEventView from'./views/Events/SingleEventView';import ErrorView from'./views/ErrorView';import{loadUserInformation as loadUserInformationService}from'./services/authentication';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.state={user:null,loaded:false};_this.changeAuthenticationStatus=_this.changeAuthenticationStatus.bind(_assertThisInitialized(_this));_this.verifyAuthentication=_this.verifyAuthentication.bind(_assertThisInitialized(_this));_this.loadUser=_this.loadUser.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){return _regeneratorRuntime.async(function componentDidMount$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(this.loadUser());case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);// console.log('IS THIS IT?', error);\ncase 8:case\"end\":return _context.stop();}}},null,this,[[0,5]]);}},{key:\"loadUser\",value:function loadUser(){var user;return _regeneratorRuntime.async(function loadUser$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(loadUserInformationService());case 3:user=_context2.sent;console.log(\"USEERRRRRRRRRRRRRRRRRRRRRRRRRRR\",user);this.setState({user:user,loaded:true});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);// console.log('IS THIS IT?', error);\ncase 11:case\"end\":return _context2.stop();}}},null,this,[[0,8]]);}},{key:\"changeAuthenticationStatus\",value:function changeAuthenticationStatus(user){this.setState({user:user});}},{key:\"verifyAuthentication\",value:function verifyAuthentication(){return this.state.user;}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"App\"},React.createElement(BrowserRouter,null,React.createElement(Navbar,{user:this.state.user,changeAuthenticationStatus:this.changeAuthenticationStatus}),this.state.loaded&&React.createElement(Switch,null,React.createElement(Route,{path:\"/join\",render:function render(props){return React.createElement(AuthenticationJoinView,Object.assign({},props,{changeAuthenticationStatus:_this2.changeAuthenticationStatus}));}}),React.createElement(Route,{path:\"/login\",render:function render(props){return React.createElement(AuthenticationLoginView,Object.assign({},props,{changeAuthenticationStatus:_this2.changeAuthenticationStatus}));}}),React.createElement(Route,{path:\"/error/:code\",component:ErrorView}),React.createElement(Route,{path:\"/\",exact:true,component:Homepage}),React.createElement(Route,{path:\"/restaurant-list\",exact:true,component:RestaurantListView}),React.createElement(Route,{path:\"/shop-list\",exact:true,component:ShopListView}),React.createElement(Route,{path:\"/event-list\",exact:true,component:EventListView}),React.createElement(Route,{path:\"/restaurant/:id\",exact:true,render:function render(props){return React.createElement(SingleRestaurantView,Object.assign({},props,{user:_this2.state.user,loadUser:_this2.loadUser}));}}),React.createElement(Route,{path:\"/user-profile/edit\",render:function render(props){return React.createElement(UserEditProfileView,Object.assign({},props,{user:_this2.state.user,loadUser:_this2.loadUser// component={UserEditProfileView}\n}));}}),React.createElement(Route// path=\"/:userId\"\n// exact\n// component={UserProfileView}\n// path=\"/user-profile\"\n,{path:\"/user-profile\",render:function render(props){return React.createElement(UserProfileView,Object.assign({},props,{user:_this2.state.user}));}}),React.createElement(Route,{path:\"/shop/:id\",exact:true,component:SingleShopView}),React.createElement(Route,{path:\"/event/:id\",exact:true,component:SingleEventView}),React.createElement(Redirect,{to:\"/error/404\"})),React.createElement(Footer,null)));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/App.jsx"],"names":["React","Component","BrowserRouter","Switch","Route","Redirect","Navbar","Footer","Homepage","AuthenticationLoginView","AuthenticationJoinView","UserProfileView","UserEditProfileView","RestaurantListView","SingleRestaurantView","ShopListView","SingleShopView","EventListView","SingleEventView","ErrorView","loadUserInformation","loadUserInformationService","App","props","state","user","loaded","changeAuthenticationStatus","bind","verifyAuthentication","loadUser","console","log","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nimport './App.css';\n\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\n\nimport Homepage from './views/Homepage/Homepage';\n\nimport AuthenticationLoginView from './views/Authentication/LogInView';\nimport AuthenticationJoinView from './views/Authentication/JoinView';\n\nimport UserProfileView from './views/User/UserProfileView';\nimport UserEditProfileView from './views/User/UserEditProfileView';\n\nimport RestaurantListView from './views/Restaurants/RestaurantListView';\nimport SingleRestaurantView from './views/Restaurants/SingleRestaurantView';\n\nimport ShopListView from './views/Shops/ShopListView';\nimport SingleShopView from './views/Shops/SingleShopView';\n\nimport EventListView from './views/Events/EventListView';\nimport SingleEventView from './views/Events/SingleEventView';\n\nimport ErrorView from './views/ErrorView';\n\nimport { loadUserInformation as loadUserInformationService } from './services/authentication';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      loaded: false\n    };\n    this.changeAuthenticationStatus = this.changeAuthenticationStatus.bind(\n      this\n    );\n    this.verifyAuthentication = this.verifyAuthentication.bind(this);\n    this.loadUser = this.loadUser.bind(this);\n  }\n\n  async componentDidMount() {\n    try {\n      await this.loadUser();\n    } catch (error) {\n      console.log(error);\n      // console.log('IS THIS IT?', error);\n    }\n  }\n\n  async loadUser() {\n    try {\n      const user = await loadUserInformationService();\n      console.log(\"USEERRRRRRRRRRRRRRRRRRRRRRRRRRR\", user);\n      this.setState({\n        user,\n        loaded: true\n      });\n    } catch (error) {\n      console.log(error);\n      // console.log('IS THIS IT?', error);\n    }\n  }\n\n  changeAuthenticationStatus(user) {\n    this.setState({\n      user\n    });\n  }\n\n  verifyAuthentication() {\n    return this.state.user;\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Navbar\n            user={this.state.user}\n            changeAuthenticationStatus={this.changeAuthenticationStatus}\n          />\n          {this.state.loaded && (\n            <Switch>\n              <Route\n                path=\"/join\"\n                render={props => (\n                  <AuthenticationJoinView\n                    {...props}\n                    changeAuthenticationStatus={this.changeAuthenticationStatus}\n                  />\n                )}\n              />\n              <Route\n                path=\"/login\"\n                render={props => (\n                  <AuthenticationLoginView\n                    {...props}\n                    changeAuthenticationStatus={this.changeAuthenticationStatus}\n                  />\n                )}\n              />\n              <Route path=\"/error/:code\" component={ErrorView} />\n              <Route path=\"/\" exact component={Homepage} />\n              <Route\n                path=\"/restaurant-list\"\n                exact\n                component={RestaurantListView}\n              />\n              <Route path=\"/shop-list\" exact component={ShopListView} />\n              <Route path=\"/event-list\" exact component={EventListView} />\n              <Route\n                path=\"/restaurant/:id\"\n                exact\n                render={props => (\n                  <SingleRestaurantView \n                  {...props} \n                  user={this.state.user} \n                  loadUser={this.loadUser}\n\n                  />\n                )}\n              />\n              <Route\n                path=\"/user-profile/edit\"\n                render={props => (\n                  <UserEditProfileView\n                    {...props}\n                    user={this.state.user}\n                    loadUser={this.loadUser}\n\n                    // component={UserEditProfileView}\n                  />\n                )}\n              />\n              <Route\n                // path=\"/:userId\"\n                // exact\n                // component={UserProfileView}\n                // path=\"/user-profile\"\n                path=\"/user-profile\"\n                render={props => (\n                  <UserProfileView {...props} user={this.state.user} />\n                )}\n              />\n\n              <Route path=\"/shop/:id\" exact component={SingleShopView} />\n              <Route path=\"/event/:id\" exact component={SingleEventView} />\n              <Redirect to=\"/error/404\" />\n            </Switch>\n          )}\n          <Footer />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}