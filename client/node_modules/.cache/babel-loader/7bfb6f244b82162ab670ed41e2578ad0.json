{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Image from\"react-bootstrap/Image\";import{join as joinService}from\"../../services/authentication\";import\"./style.css\";var AuthenticationJoinView=/*#__PURE__*/function(_Component){_inherits(AuthenticationJoinView,_Component);function AuthenticationJoinView(props){var _this;_classCallCheck(this,AuthenticationJoinView);_this=_possibleConstructorReturn(this,_getPrototypeOf(AuthenticationJoinView).call(this,props));_this.state={name:\"\",username:\"\",aboutMe:\"\",email:\"\",password:\"\",image:null,error:false};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleFileChange=_this.handleFileChange.bind(_assertThisInitialized(_this));_this.handleFormSubmission=_this.handleFormSubmission.bind(_assertThisInitialized(_this));return _this;}_createClass(AuthenticationJoinView,[{key:\"handleInputChange\",value:function handleInputChange(event){var name=event.target.name;var value=event.target.value;this.setState(_objectSpread({},this.state,_defineProperty({},name,value)));}},{key:\"handleFileChange\",value:function handleFileChange(event){console.dir(event.target.files);var file=event.target.files[0];this.setState({image:file});}},{key:\"handleFormSubmission\",value:function handleFormSubmission(event){var _this$state,email,password,username,name,image,aboutMe,user;return _regeneratorRuntime.async(function handleFormSubmission$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this$state=this.state,email=_this$state.email,password=_this$state.password,username=_this$state.username,name=_this$state.name,image=_this$state.image,aboutMe=_this$state.aboutMe;// console.log(this.state);\n_context.prev=2;_context.next=5;return _regeneratorRuntime.awrap(joinService({email:email,password:password,username:username,name:name,image:image,aboutMe:aboutMe}));case 5:user=_context.sent;// console.log(\"USER JOINVIEW\", user);\nthis.props.changeAuthenticationStatus(user);this.props.history.push(\"/\");_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);this.setState({error:true});console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},null,this,[[2,10]]);}},{key:\"render\",value:function render(){// const user = this.state.user;\nreturn React.createElement(\"main\",{className:\"pt-5 mt-5 mx-5 text-center d-flex justify-content-center\"},React.createElement(\"form\",{onSubmit:this.handleFormSubmission,className:\"form-signin LoginJoinForm\"},React.createElement(Image,{fluid:true,className:\"mb-4 LoginJoinImg\",src:\"/images/alfacinha-logo1.png\",alt:\"\"}),React.createElement(\"label\",{htmlFor:\"name\",className:\"sr-only\"},\"Name\"),React.createElement(\"input\",{type:\"name\",placeholder:\"Name\",value:this.state.name,name:\"name\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"email\",className:\"sr-only\"},\"Email\"),React.createElement(\"input\",{type:\"email\",placeholder:\"Email\",value:this.state.email,name:\"email\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"username\",className:\"sr-only\"},\"Username\"),React.createElement(\"input\",{type:\"username\",placeholder:\"Username\",value:this.state.username,name:\"username\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"password\",className:\"sr-only\"},\"Password\"),React.createElement(\"input\",{type:\"password\",placeholder:\"Password\",value:this.state.password,name:\"password\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"name\",className:\"sr-only\"},\"About Me\"),React.createElement(\"textarea\",{type:\"text\",placeholder:\"Write something here\",value:this.state.aboutMe,name:\"aboutMe\",className:\"form-control mb-3\",onChange:this.handleInputChange,required:true}),React.createElement(\"label\",{htmlFor:\"image\",className:\"sr-only\"},\"Image\"),React.createElement(\"input\",{type:\"file\",placeholder:\"Profile Picture\",name:\"image\",className:\"form-control mb-3\",onChange:this.handleFileChange}),this.state.error&&React.createElement(\"div\",{class:\"alert alert-danger\",role:\"alert\"},\"Ops.. Email or username already exist!\"),React.createElement(\"button\",{className:\"btn btn-lg MyBtn btn-block mb-5\"},\"Join\")));}}]);return AuthenticationJoinView;}(Component);export default AuthenticationJoinView;","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/views/Authentication/JoinView.jsx"],"names":["React","Component","Image","join","joinService","AuthenticationJoinView","props","state","name","username","aboutMe","email","password","image","error","handleInputChange","bind","handleFileChange","handleFormSubmission","event","target","value","setState","console","dir","files","file","preventDefault","user","changeAuthenticationStatus","history","push","log"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { join as joinService } from \"../../services/authentication\";\n\nimport \"./style.css\";\n\nclass AuthenticationJoinView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      username: \"\",\n      aboutMe: \"\",\n      email: \"\",\n      password: \"\",\n      image: null,\n      error: false\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.handleFormSubmission = this.handleFormSubmission.bind(this);\n  }\n\n  handleInputChange(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  }\n\n  handleFileChange(event) {\n    console.dir(event.target.files);\n    const file = event.target.files[0];\n    this.setState({\n      image: file\n    });\n  }\n\n  async handleFormSubmission(event) {\n    event.preventDefault();\n    const { email, password, username, name, image, aboutMe } = this.state;\n    // console.log(this.state);\n    try {\n      const user = await joinService({\n        email,\n        password,\n        username,\n        name,\n        image,\n        aboutMe\n      });\n      // console.log(\"USER JOINVIEW\", user);\n      this.props.changeAuthenticationStatus(user);\n      this.props.history.push(`/`);\n    } catch (error) {\n      this.setState({ error: true });\n      console.log(error);\n    }\n  }\n\n  render() {\n    // const user = this.state.user;\n    return (\n      \n      <main className=\"pt-5 mt-5 mx-5 text-center d-flex justify-content-center\">\n        <form\n          onSubmit={this.handleFormSubmission}\n          className=\"form-signin LoginJoinForm\"\n        >\n          <Image\n            fluid\n            className=\"mb-4 LoginJoinImg\"\n            src=\"/images/alfacinha-logo1.png\"\n            alt=\"\"\n          />\n          <label htmlFor=\"name\" className=\"sr-only\">\n            Name\n          </label>\n          <input\n            type=\"name\"\n            placeholder=\"Name\"\n            value={this.state.name}\n            name=\"name\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"email\" className=\"sr-only\">\n            Email\n          </label>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={this.state.email}\n            name=\"email\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"username\" className=\"sr-only\">\n            Username\n          </label>\n          <input\n            type=\"username\"\n            placeholder=\"Username\"\n            value={this.state.username}\n            name=\"username\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"password\" className=\"sr-only\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={this.state.password}\n            name=\"password\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          />\n          <label htmlFor=\"name\" className=\"sr-only\">\n            About Me\n          </label>\n          <textarea\n            type=\"text\"\n            placeholder=\"Write something here\"\n            value={this.state.aboutMe}\n            name=\"aboutMe\"\n            className=\"form-control mb-3\"\n            onChange={this.handleInputChange}\n            required\n          ></textarea>\n          <label htmlFor=\"image\" className=\"sr-only\">\n            Image\n          </label>\n          <input\n            type=\"file\"\n            placeholder=\"Profile Picture\"\n            name=\"image\"\n            className=\"form-control mb-3\"\n            onChange={this.handleFileChange}\n            />\n            \n          {this.state.error && (\n            <div class=\"alert alert-danger\" role=\"alert\">\n              Ops.. Email or username already exist!\n            </div>\n          )}\n          <button className=\"btn btn-lg MyBtn btn-block mb-5\">Join</button>\n          {/* <p class=\"mt-5 mb-3 text-muted\">&copy; 2019</p> */}\n        </form>\n      </main>\n    );\n  }\n}\n\nexport default AuthenticationJoinView;\n"]},"metadata":{},"sourceType":"module"}