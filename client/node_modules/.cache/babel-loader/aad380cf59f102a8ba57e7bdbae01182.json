{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/node_modules/@babel/runtime/regenerator\";import axios from'axios';var apiAuthenticationService=axios.create({baseURL:'/api/authentication'});export var logIn=function logIn(data){var response;return _regeneratorRuntime.async(function logIn$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(apiAuthenticationService.post(\"/login\",data));case 3:response=_context.sent;return _context.abrupt(\"return\",response.data.user);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);throw _context.t0;case 11:case\"end\":return _context.stop();}}},null,null,[[0,7]]);};export var join=function join(user){var data,response;return _regeneratorRuntime.async(function join$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// console.log(\"DATA ON SERVICE\", user);\ndata=new FormData();data.append(\"name\",user.name);data.append(\"username\",user.username);data.append(\"email\",user.email);data.append(\"aboutMe\",user.aboutMe);// data.append(\"image\", user.image);\ndata.append(\"password\",user.password);_context2.prev=6;_context2.next=9;return _regeneratorRuntime.awrap(apiAuthenticationService.post(\"/join\",data));case 9:response=_context2.sent;return _context2.abrupt(\"return\",response.data.user);case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](6);console.log(_context2.t0);throw _context2.t0;case 17:case\"end\":return _context2.stop();}}},null,null,[[6,13]]);};export var loadUserInformation=function loadUserInformation(){var response;return _regeneratorRuntime.async(function loadUserInformation$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _regeneratorRuntime.awrap(apiAuthenticationService.get(\"/loggedin\"));case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data.user);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log('WHAT IS HAPPENING',_context3.t0);throw _context3.t0;case 11:case\"end\":return _context3.stop();}}},null,null,[[0,7]]);};export var addToFavorites=function addToFavorites(id,name){var response;return _regeneratorRuntime.async(function addToFavorites$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return _regeneratorRuntime.awrap(apiAuthenticationService.post(\"/add-to-favorites/\".concat(id,\"/\").concat(name)));case 3:response=_context4.sent;console.log('this is the res ID',id,name);return _context4.abrupt(\"return\",response);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);throw _context4.t0;case 12:case\"end\":return _context4.stop();}}},null,null,[[0,8]]);};export var logOut=function logOut(){return _regeneratorRuntime.async(function logOut$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return _regeneratorRuntime.awrap(apiAuthenticationService.post(\"/logout\"));case 3:_context5.next=9;break;case 5:_context5.prev=5;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);throw _context5.t0;case 9:case\"end\":return _context5.stop();}}},null,null,[[0,5]]);};","map":{"version":3,"sources":["/Users/joaoevangelho/ironhack/projects/alfacinha/starter-code/client/src/services/authentication.js"],"names":["axios","apiAuthenticationService","create","baseURL","logIn","data","post","response","user","console","log","join","FormData","append","name","username","email","aboutMe","password","loadUserInformation","get","addToFavorites","id","logOut"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,wBAAwB,CAAGD,KAAK,CAACE,MAAN,CAAa,CAC5CC,OAAO,CAAE,qBADmC,CAAb,CAAjC,CAIA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAMC,IAAN,+LAEMJ,wBAAwB,CAACK,IAAzB,UAAwCD,IAAxC,CAFN,SAEXE,QAFW,+CAGVA,QAAQ,CAACF,IAAT,CAAcG,IAHJ,0DAKjBC,OAAO,CAACC,GAAR,cALiB,mFAAd,CAUP,MAAO,IAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAMH,IAAN,qIAClB;AACMH,IAFY,CAEL,GAAIO,CAAAA,QAAJ,EAFK,CAGlBP,IAAI,CAACQ,MAAL,CAAY,MAAZ,CAAoBL,IAAI,CAACM,IAAzB,EACAT,IAAI,CAACQ,MAAL,CAAY,UAAZ,CAAwBL,IAAI,CAACO,QAA7B,EACAV,IAAI,CAACQ,MAAL,CAAY,OAAZ,CAAqBL,IAAI,CAACQ,KAA1B,EACAX,IAAI,CAACQ,MAAL,CAAY,SAAZ,CAAuBL,IAAI,CAACS,OAA5B,EACA;AACAZ,IAAI,CAACQ,MAAL,CAAY,UAAZ,CAAwBL,IAAI,CAACU,QAA7B,EARkB,mEAUOjB,wBAAwB,CAACK,IAAzB,SAAuCD,IAAvC,CAVP,SAUVE,QAVU,iDAYTA,QAAQ,CAACF,IAAT,CAAcG,IAZL,+DAchBC,OAAO,CAACC,GAAR,eAdgB,sFAAb,CAmBP,MAAO,IAAMS,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,mNAERlB,wBAAwB,CAACmB,GAAzB,aAFQ,SAEzBb,QAFyB,iDAGxBA,QAAQ,CAACF,IAAT,CAAcG,IAHU,6DAK/BC,OAAO,CAACC,GAAR,CAAY,mBAAZ,eAL+B,qFAA5B,CAUP,MAAO,IAAMW,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAOC,EAAP,CAAWR,IAAX,6MAEHb,wBAAwB,CAACK,IAAzB,6BACAgB,EADA,aACMR,IADN,EAFG,SAEpBP,QAFoB,gBAK1BE,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCY,EAAlC,CAAsCR,IAAtC,EAL0B,iCAMnBP,QANmB,6DAQ1BE,OAAO,CAACC,GAAR,eAR0B,qFAAvB,CAaP,MAAO,IAAMa,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,yLAEZtB,wBAAwB,CAACK,IAAzB,WAFY,2FAIlBG,OAAO,CAACC,GAAR,eAJkB,oFAAf","sourcesContent":["import axios from 'axios';\n\nconst apiAuthenticationService = axios.create({\n  baseURL: '/api/authentication'\n});\n\nexport const logIn = async data => {\n  try {\n    const response = await apiAuthenticationService.post(`/login`, data);\n    return response.data.user;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nexport const join = async user => {\n  // console.log(\"DATA ON SERVICE\", user);\n  const data = new FormData();\n  data.append(\"name\", user.name);\n  data.append(\"username\", user.username);\n  data.append(\"email\", user.email);\n  data.append(\"aboutMe\", user.aboutMe);\n  // data.append(\"image\", user.image);\n  data.append(\"password\", user.password);\n  try {\n    const response = await apiAuthenticationService.post(`/join`, data);\n    // console.log(\"RESPONSE DATA!!\", response);\n    return response.data.user;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nexport const loadUserInformation = async () => {\n  try {\n    const response = await apiAuthenticationService.get(`/loggedin`);\n    return response.data.user;\n  } catch (error) {\n    console.log('WHAT IS HAPPENING', error);\n    throw error;\n  }\n};\n\nexport const addToFavorites = async (id, name) => {\n  try {\n    const response = await apiAuthenticationService.post(\n      `/add-to-favorites/${id}/${name}`\n    );\n    console.log('this is the res ID', id, name);\n    return response;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nexport const logOut = async () => {\n  try {\n    await apiAuthenticationService.post(`/logout`);\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};"]},"metadata":{},"sourceType":"module"}