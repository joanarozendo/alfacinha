(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),c=a.n(s),l=(a(73),a(74),a(2)),o=a.n(l),i=a(4),m=a(5),u=a(7),h=a(6),p=a(10),d=a(8),g=a(13),b=a(27),f=(a(76),a(42)),v=a(18),E=a(15),y=a(17),N=(a(48),a(25)),j=a.n(N),O=j.a.create({baseURL:"/api/authentication"}),x=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.awrap(O.post("/login",e));case 3:return t=a.sent,a.abrupt("return",t.data.user);case 7:throw a.prev=7,a.t0=a.catch(0),console.log(a.t0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[0,7]])},w=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("name",e.name),t.append("username",e.username),t.append("email",e.email),t.append("aboutMe",e.aboutMe),t.append("password",e.password),n.prev=6,n.next=9,o.a.awrap(O.post("/join",t));case 9:return a=n.sent,n.abrupt("return",a.data.user);case 13:throw n.prev=13,n.t0=n.catch(6),console.log(n.t0),n.t0;case 17:case"end":return n.stop()}}),null,null,[[6,13]])},C=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(O.get("/loggedin"));case 3:return e=t.sent,t.abrupt("return",e.data.user);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("WHAT IS HAPPENING",t.t0),t.t0;case 11:case"end":return t.stop()}}),null,null,[[0,7]])},k=function(e,t){var a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(O.post("/add-to-favorites/".concat(e,"/").concat(t)));case 3:return a=n.sent,console.log("this is the res ID",e,t),n.abrupt("return",a);case 8:throw n.prev=8,n.t0=n.catch(0),console.log(n.t0),n.t0;case 12:case"end":return n.stop()}}),null,null,[[0,8]])},S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).onLogOutTrigger=a.onLogOutTrigger.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"onLogOutTrigger",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(O.post("/logout"));case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.t0;case 9:case"end":return e.stop()}}),null,null,[[0,5]]));case 3:this.props.changeAuthenticationStatus(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),null,this,[[0,6]])}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement(f.a,{collapseOnSelect:!0,expand:"lg",fixed:"top",bg:"dark",variant:"dark"},r.a.createElement(v.a.Link,{as:g.b,to:"/"},r.a.createElement(E.a,{className:"LogoImg",fluid:!0,src:"/images/alfacinha-logo2.png",alt:"BrandLogo"})),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/restaurant-list"},"Restaurants"),r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/shop-list"},"Shops"),r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/event-list"},"Events")),e&&r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/user-profile"},"My Profile"),r.a.createElement(y.a,{as:g.b,className:"MyBtn LogoutBtn mx-2",onClick:this.onLogOutTrigger,to:"/"},"Log Out")))||r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/login"},"Log In"),r.a.createElement(v.a.Link,{as:g.b,className:"mx-2",to:"/join"},"Join"))))}}]),t}(n.Component),F=a(14),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer py-2 bg-dark"},r.a.createElement(F.a,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(v.a,{className:"flex-column ml-3"},r.a.createElement("div",{className:"text-center"},r.a.createElement(E.a,{fluid:!0,className:"FooterImg",src:"/images/alfacinha-logo1.png",alt:"01"}))),r.a.createElement(v.a,{className:"flex-column mr-5 text-right"},r.a.createElement(v.a.Item,null,r.a.createElement("p",{className:"text-secondary"},"Have any suggestions?"),r.a.createElement(y.a,{className:"MyBtn"},"Contact Us")))))}}]),t}(n.Component),M=a(65),R=a(12),L=(a(32),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"home"},r.a.createElement(M.a,{fluid:!0,className:"py-5 mb-0 GreenBg d-flex justify-content-center align-items-center w-100"},r.a.createElement("div",{className:"w-100 pb-5 pt-2"},r.a.createElement(F.a,{className:"pt-5"},r.a.createElement(R.a,{md:1}),r.a.createElement(R.a,null,r.a.createElement("h3",{className:"pl-5"},"Welcome to"),r.a.createElement("h1",{className:"AlfacinhaTitleText display-1 PurpleTxt font-weight-bold LineH75"},"ALFACINHA"))),r.a.createElement(F.a,null,r.a.createElement(R.a,{md:4,lg:4,xl:4}),r.a.createElement(R.a,null,r.a.createElement("h1",{className:"pl-5 font-weight-normal"},"Your green guide to Lisbon"))))))}}]),t}(n.Component)),A=a(29),B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{className:"AboutCarouselBgLayer1"},r.a.createElement(A.a.Item,{className:"AboutCarouselBgLayer2"},r.a.createElement(A.a.Caption,{className:"text-dark"},r.a.createElement("h3",null,"Why go green?"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(A.a.Item,{className:"AboutCarouselBgLayer2"},r.a.createElement(A.a.Caption,{className:"text-dark"},r.a.createElement("h3",null,"There's no planet B"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))),r.a.createElement(A.a.Item,{className:"AboutCarouselBgLayer2"},r.a.createElement(A.a.Caption,{className:"text-dark"},r.a.createElement("h3",null,"Kindness"),r.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur.")))))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"restaurants",className:"w-100 text-right"},r.a.createElement(F.a,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(R.a,{sm:8},r.a.createElement(E.a,{className:"HomepageCenterImg",fluid:!0,src:"/images/food9.jpg",alt:"BrandLogo"})),r.a.createElement(R.a,{sm:4,className:"text-left p-3"},r.a.createElement("h5",{className:"ml-5"},"RESTAURANTS"),r.a.createElement("p",{className:"text-justify mx-5"},"Browse through a list of cool places to eat vegetarian food, wether you're in the mood for a snack, a quick meal at lunch break or a nice dinner with friends."),r.a.createElement(g.b,{to:"/restaurant-list"},r.a.createElement(y.a,{className:"ReadMoreBtn w-50 mx-5"},"READ MORE"))))))}}]),t}(n.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"shops",className:"w-100 text-left "},r.a.createElement(F.a,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(R.a,{sm:4,className:"text-right p-3"},r.a.createElement("h5",{className:"mr-5"},"SHOPS"),r.a.createElement("p",{className:"text-justify mx-5"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae beatae impedit, perferendis eaque ratione rem provident maiores rerum. Deserunt libero voluptas beatae sint quos commodi inventore blanditiis, ratione dolorem iusto!"),r.a.createElement(g.b,{to:"/shop-list"},r.a.createElement(y.a,{className:"ReadMoreBtn w-50 mr-5"},"READ MORE"))),r.a.createElement(R.a,{sm:8},r.a.createElement(E.a,{className:"HomepageCenterImg",fluid:!0,src:"/images/shops9.jpg",alt:"BrandLogo"})))))}}]),t}(n.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"events",className:"w-100 text-right "},r.a.createElement(F.a,{className:"d-flex justify-content-between align-items-center"},r.a.createElement(R.a,{sm:8},r.a.createElement(E.a,{className:"HomepageCenterImg",fluid:!0,src:"/images/events9.jpg",alt:"BrandLogo"})),r.a.createElement(R.a,{sm:4,className:"text-left p-3"},r.a.createElement("h5",{className:"ml-5"},"EVENTS"),r.a.createElement("p",{className:"text-justify mx-5"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae beatae impedit, perferendis eaque ratione rem provident maiores rerum. Deserunt libero voluptas beatae sint quos commodi inventore blanditiis, ratione dolorem iusto!"),r.a.createElement(g.b,{to:"/event-list"},r.a.createElement(y.a,{className:"ReadMoreBtn w-50 ml-5"},"READ MORE"))))))}}]),t}(n.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L,null),r.a.createElement(B,null),r.a.createElement(U,null),r.a.createElement(_,null),r.a.createElement(P,null))}}]),t}(n.Component),D=a(20),Q=(a(58),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:"",error:!1},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handleFormSubmission=a.handleFormSubmission.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(D.a)({},t,a))}},{key:"handleFormSubmission",value:function(e){var t,a,n,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t=this.state,a=t.username,n=t.password,s.prev=2,s.next=5,o.a.awrap(x({username:a,password:n}));case 5:r=s.sent,this.props.changeAuthenticationStatus(r),this.props.history.push("/"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(2),this.setState({error:!0}),console.log(s.t0);case 14:case"end":return s.stop()}}),null,this,[[2,10]])}},{key:"render",value:function(){return r.a.createElement("main",{className:"pt-5 m-5 text-center d-flex justify-content-center"},r.a.createElement("form",{onSubmit:this.handleFormSubmission,className:"form-signin LoginJoinForm"},r.a.createElement(E.a,{fluid:!0,className:"mb-4 LoginJoinImg",src:"/images/alfacinha-logo1.png",alt:""}),r.a.createElement("label",{htmlFor:"username",className:"sr-only"},"Username"),r.a.createElement("input",{type:"text",placeholder:"Username",id:"username",value:this.state.username,name:"username",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"password",id:"password",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",id:"password",value:this.state.password,name:"password",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),this.state.error&&r.a.createElement("div",{class:"alert alert-danger",role:"alert"},"Validation failed! ",r.a.createElement("br",null)," Check username and password and try again."),r.a.createElement("button",{className:"btn btn-lg MyBtn btn-block mb-5"},"Log In")))}}]),t}(n.Component)),H=a(23),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={name:"",username:"",aboutMe:"",email:"",password:"",image:null,error:!1},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(p.a)(a)),a.handleFormSubmission=a.handleFormSubmission.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(H.a)({},this.state,Object(D.a)({},t,a)))}},{key:"handleFileChange",value:function(e){console.dir(e.target.files);var t=e.target.files[0];this.setState({image:t})}},{key:"handleFormSubmission",value:function(e){var t,a,n,r,s,c,l,i;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e.preventDefault(),t=this.state,a=t.email,n=t.password,r=t.username,s=t.name,c=t.image,l=t.aboutMe,m.prev=2,m.next=5,o.a.awrap(w({email:a,password:n,username:r,name:s,image:c,aboutMe:l}));case 5:i=m.sent,this.props.changeAuthenticationStatus(i),this.props.history.push("/"),m.next=14;break;case 10:m.prev=10,m.t0=m.catch(2),this.setState({error:!0}),console.log(m.t0);case 14:case"end":return m.stop()}}),null,this,[[2,10]])}},{key:"render",value:function(){return r.a.createElement("main",{className:"pt-5 mt-5 mx-5 text-center d-flex justify-content-center"},r.a.createElement("form",{onSubmit:this.handleFormSubmission,className:"form-signin LoginJoinForm"},r.a.createElement(E.a,{fluid:!0,className:"mb-4 LoginJoinImg",src:"/images/alfacinha-logo1.png",alt:""}),r.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),r.a.createElement("input",{type:"name",placeholder:"Name",value:this.state.name,name:"name",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"email",className:"sr-only"},"Email"),r.a.createElement("input",{type:"email",placeholder:"Email",value:this.state.email,name:"email",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"username",className:"sr-only"},"Username"),r.a.createElement("input",{type:"username",placeholder:"Username",value:this.state.username,name:"username",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"password",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,name:"password",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"name",className:"sr-only"},"About Me"),r.a.createElement("textarea",{type:"text",placeholder:"Write something here",value:this.state.aboutMe,name:"aboutMe",className:"form-control mb-3",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"image",className:"sr-only"},"Image"),r.a.createElement("input",{type:"file",placeholder:"Profile Picture",name:"image",className:"form-control mb-3",onChange:this.handleFileChange}),this.state.error&&r.a.createElement("div",{class:"alert alert-danger",role:"alert"},"Ops.. Email or username already exist!"),r.a.createElement("button",{className:"btn btn-lg MyBtn btn-block mb-5"},"Join")))}}]),t}(n.Component),W=a(66),J=(a(101),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={user:a.props.user},console.log(a.state.user),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.user,console.log("heyyy",this.props),console.log("SHOW ME THE IDDDD",e);try{this.setState({user:this.props.user})}catch(a){console.log(a),this.props.history.push("/error/404")}case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.user,t=this.state.user.favorites;this.state.user._id;return r.a.createElement("div",{className:"MinPageHeight my-5 mx-5 justify-content-center UserProfileBg"},e&&r.a.createElement(W.a,null,r.a.createElement(F.a,{className:"mb-5"},r.a.createElement(R.a,{sm:9,className:"d-flex justify-content-end align-items-end"},r.a.createElement("h1",{className:"text-right"},e.name)),r.a.createElement(R.a,{sm:3,className:"d-flex justify-content-end align-items-end"},r.a.createElement(E.a,{fluid:!0,src:e.image,alt:"User profile pic",className:"UserProfileImg m-0 p-0"}))),r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-start align-items-center"},r.a.createElement("h4",{className:"text-left"},"About Me"))),r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-start align-items-center"},r.a.createElement("p",{className:"text-left"},e.aboutMe))),t&&r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-end align-items-center"},r.a.createElement("h4",{className:"text-right"},"My Favorites"))),r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-end align-items-center"},r.a.createElement("ul",{className:"text-right"},t.map((function(e){return r.a.createElement("li",{className:"text-right"},r.a.createElement(g.b,{to:"/restaurant/".concat(e.resId)},e.name,e.location))})))))),0===t.length&&r.a.createElement(n.Fragment,null,r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-end align-items-center"},r.a.createElement("p",{className:"text-right"},"You have no favorites yet. Browse through our lists to find some you like!")))),r.a.createElement(F.a,{className:"my-1"},r.a.createElement(R.a,{sm:12,className:"d-flex justify-content-start align-items-center"},r.a.createElement(g.b,{className:"btn MyBtn",to:"/user-profile/edit"},"Edit Profile"))))||r.a.createElement("p",null,"There's no user logged in..."))}}]),t}(n.Component)),V=j.a.create({baseURL:"/api/user"}),z=function(e,t,a){var n,r;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("USER INFO ON SERVICE",t.image),(n=new FormData).append("name",t.name),n.append("email",t.email),n.append("aboutMe",t.aboutMe),n.append("image",t.image),e.prev=6,e.next=9,o.a.awrap(V.patch("/user-profile/edit",n));case 9:return r=e.sent,e.abrupt("return",r.data.user);case 13:throw e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),null,null,[[6,13]])},K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={user:a.props.user},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(p.a)(a)),a.handleFormSubmission=a.handleFormSubmission.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState({user:Object(H.a)({},this.state.user,Object(D.a)({},t,a))})}},{key:"handleFileChange",value:function(e){console.dir(e.target.files),console.log("WHAT UUUUUP",e.target.files);var t=e.target.files[0];this.setState({image:t})}},{key:"handleFormSubmission",value:function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=this.state.user,this.state.image,a=this.state.user._id,console.log("ID HERE",a),n.prev=5,n.next=8,o.a.awrap(z(0,t));case 8:return n.next=10,o.a.awrap(this.props.loadUser());case 10:this.props.history.push("/user-profile"),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0);case 16:case"end":return n.stop()}}),null,this,[[5,13]])}},{key:"render",value:function(){console.log("i am in the edit view",this.state.user),console.log("user image",this.state.user.image);var e=this.state.user;return r.a.createElement("main",{className:"MinPageHeight m-5 p-5"},e&&r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{fluid:!0,src:e.image,className:"UserProfileEditImg mb-3"}),r.a.createElement("form",{onSubmit:this.handleFormSubmission,className:"form-signin w-50"},r.a.createElement("label",{htmlFor:"image",className:"sr-only"},"Image"),r.a.createElement("input",{type:"file",placeholder:"image",className:"form-control mb-3",name:"image",onChange:this.handleFileChange}),r.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),r.a.createElement("input",{type:"text",placeholder:"Name",value:e.name||"",className:"form-control mb-3",name:"name",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"email",className:"sr-only"},"Email"),r.a.createElement("input",{type:"email",placeholder:"Email",value:e.email||"",className:"form-control mb-3",name:"email",onChange:this.handleInputChange,required:!0}),r.a.createElement("label",{htmlFor:"aboutMe",className:"sr-only"},"About Me"),r.a.createElement("textarea",{type:"text",placeholder:"About Me",value:e.aboutMe||"",className:"form-control mb-3",name:"aboutMe",onChange:this.handleInputChange,required:!0}),r.a.createElement("button",{className:"btn MyBtn w-50 mb-2"},"Edit user"),r.a.createElement("br",null)),r.a.createElement("button",{className:"btn MyBtn w-50 mb-2",onClick:this.onDeleteTrigger},"Delete user")))}}]),t}(n.Component),Y=a(37),Z=j.a.create({baseURL:"https://developers.zomato.com/api/v2.1",headers:{"user-key":"e11fa2bac7d90c8e1c7b4b367823e292"}}),G=function(){var e,t,a,n,r,s,c,l,i,m,u;return o.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,o.a.awrap(Z.get("/search?entity_id=82&entity_type=city&start=1&count=20&cuisines=308"));case 3:return e=h.sent,h.next=6,o.a.awrap(Z.get("/search?entity_id=82&entity_type=city&start=21&count=40&cuisines=308"));case 6:return t=h.sent,h.next=9,o.a.awrap(Z.get("/search?entity_id=82&entity_type=city&start=41&count=60&cuisines=308"));case 9:return a=h.sent,h.next=12,o.a.awrap(Z.get("/search?entity_id=82&entity_type=city&start=61&count=80&cuisines=308"));case 12:return n=h.sent,h.next=15,o.a.awrap(Z.get("/search?entity_id=82&entity_type=city&start=81&count=100&cuisines=308"));case 15:return r=h.sent,s=e.data.restaurants,c=t.data.restaurants,l=a.data.restaurants,i=n.data.restaurants,m=r.data.restaurants,u=[].concat(Object(Y.a)(s),Object(Y.a)(c),Object(Y.a)(l),Object(Y.a)(i),Object(Y.a)(m)),h.abrupt("return",u);case 25:throw h.prev=25,h.t0=h.catch(0),console.log("There was an error from ZOMATO API"),h.t0;case 29:case"end":return h.stop()}}),null,null,[[0,25]])},X=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(Z.get("/restaurant?res_id=".concat(e)));case 3:return t=n.sent,a=t.data,console.log(t.data),n.abrupt("return",a);case 9:throw n.prev=9,n.t0=n.catch(0),console.log(n.t0),n.t0;case 13:case"end":return n.stop()}}),null,null,[[0,9]])},$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={nameQuery:"",locationQuery:"",averageQuery:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("PROPS SEARCH ",this.props),this.setState({nameQuery:this.props.nameQuery,locationQuery:this.props.locationQuery,averageQuery:this.props.averageQuery})}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-5"},r.a.createElement("form",{className:"w-50"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"mb-2 ml-4"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"name-form"},"Name")),r.a.createElement("div",{className:"bd-highlight"},r.a.createElement("input",{className:"form-control mr-sm-2",name:"nameQuery",type:"search",id:"name-form",placeholder:"Name",value:this.props.nameQuery,onChange:this.props.onChange})))),r.a.createElement("div",{className:"d-flex row-flex"},r.a.createElement("div",{className:"column col-4 col-xs-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-3 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"location"},"Location")),r.a.createElement("div",{className:"col-9 col-sm-12"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",id:"location",name:"locationQuery",placeholder:"Location",value:this.props.locationQuery,onChange:this.props.onChange})))),r.a.createElement("div",{className:"column col-4 col-xs-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-3 col-sm-12"},r.a.createElement("label",{className:"form-label",htmlFor:"average"},"Average Cost")),r.a.createElement("div",{className:"col-9 col-sm-12"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",id:"average",name:"averageQuery",placeholder:"0",value:this.props.averageQuery,onChange:this.props.onChange}))))))))}}]),t}(n.Component),ee=a(67),te=a.n(ee),ae=(a(59),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={loadingState:!1,restaurants:null,limit:15,nameQuery:"",locationQuery:"",averageQuery:""},a.onLoadMore=a.onLoadMore.bind(Object(p.a)(a)),a.handleOnInputChange=a.handleOnInputChange.bind(Object(p.a)(a)),a.renderRestaurants=a.renderRestaurants.bind(Object(p.a)(a)),a.filterBySearch=a.filterBySearch.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(G());case 2:e=t.sent,this.setState({restaurants:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"handleOnInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(D.a)({},t,a))}},{key:"filterBySearch",value:function(e){return console.log(e),e.restaurant.name&&this.state.nameQuery?e.restaurant.name.toLowerCase().includes(this.state.nameQuery):e.restaurant.location.address&&this.state.locationQuery?e.restaurant.location.address.toLowerCase().includes(this.state.locationQuery):e.restaurant.average_cost_for_two?(e.restaurant.average_cost_for_two/2).toString().toLowerCase().includes(this.state.averageQuery):void 0}},{key:"onLoadMore",value:function(){this.setState(Object(H.a)({},this.state,{limit:this.state.limit+10}))}},{key:"renderRestaurants",value:function(){var e=this;return this.state.restaurants.filter((function(t){return e.filterBySearch(t)})).slice(0,this.state.limit).map((function(e){return r.a.createElement("div",{key:e.restaurant.id,className:"card ml-3 mb-5 mr-5",style:{maxWidth:"540px"}},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:e.restaurant.featured_image,className:"card-img",alt:"Restaurant"})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement(g.b,{to:"/restaurant/".concat(e.restaurant.id)},r.a.createElement("h5",{className:"card-title"},e.restaurant.name)),r.a.createElement("p",{className:"card-text"},"Cousine: ",e.restaurant.cuisines),r.a.createElement("p",{className:"card-text"},"Location: ",e.restaurant.location.address),r.a.createElement("p",{className:"card-text"},"Average Cost:"," ",e.restaurant.average_cost_for_two/2,e.restaurant.currency),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Contact: ",e.restaurant.phone_numbers))))))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"MinPageHeight m-2 p-2"},r.a.createElement($,Object.assign({},this.state,{onChange:this.handleOnInputChange})),!this.state.restaurants&&r.a.createElement(te.a,{type:"bars",color:"white"}),this.state.restaurants&&r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex flex-wrap ml-5 mt-5"},this.renderRestaurants()),r.a.createElement(y.a,{className:"MyBtn LogoutBtn mx-2",onClick:this.onLoadMore},"Load")))}}]),t}(n.Component)),ne=j.a.create({baseURL:"/api/comment"}),re=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(ne.get("/list/".concat(e)));case 3:return t=n.sent,a=t.data.comments,console.log("RESPONSE IN SERVICE",t.data),n.abrupt("return",a);case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),null,null,[[0,9]])},se=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("restaurant",e.restaurant),t.append("text",e.text),t.append("image",e.image),n.prev=4,n.next=7,o.a.awrap(ne.post("/create",t));case 7:return a=n.sent,n.abrupt("return",a.data.comment);case 11:throw n.prev=11,n.t0=n.catch(4),n.t0;case 14:case"end":return n.stop()}}),null,null,[[4,11]])},ce=(a(102),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={image:null,text:"",restaurant:""},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(a)),a.handleFormSubmission=a.handleFormSubmission.bind(Object(p.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleInputChange",value:function(e){var t,a=this.props.match.params.id,n=e.target.name,r=e.target.value;this.setState(Object(H.a)({},this.state,(t={},Object(D.a)(t,n,r),Object(D.a)(t,"restaurant",a),t)))}},{key:"handleFormSubmission",value:function(e){var t,a,n,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t=this.state,a=t.text,n=t.image,r=this.props.match.params.id,s.prev=3,s.next=6,o.a.awrap(se({text:a,image:n,restaurant:r}));case 6:this.props.onSubmit(),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(3),console.log(s.t0);case 12:case"end":return s.stop()}}),null,this,[[3,9]])}},{key:"handleFileChange",value:function(e){var t=e.target.files[0];this.setState(Object(H.a)({},this.state,{image:t}))}},{key:"render",value:function(){var e=this.state.text;return r.a.createElement("main",{className:"pl-4 ml-4"},r.a.createElement("form",{onSubmit:this.handleFormSubmission,className:"form-signin w-75"},r.a.createElement("label",{htmlFor:"text",id:"txt",className:"sr-only"},"Comment"),r.a.createElement("textarea",{placeholder:"Write your comment here",value:e||"",name:"text",className:"form-control mb-3",onChange:this.handleInputChange}),r.a.createElement("label",{htmlFor:"image",id:"image",className:"sr-only"},"Image"),r.a.createElement("input",{type:"file",name:"image",className:"form-control mb-3",onChange:this.handleFileChange}),r.a.createElement("button",{className:"btn btn-lg MyBtn btn-block mb-5"},"Comment")))}}]),t}(n.Component)),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={commentList:[]},a.onSubmit=a.onSubmit.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.match.params.id,a.next=3,o.a.awrap(re(e));case 3:t=a.sent,this.setState({commentList:t});case 5:case"end":return a.stop()}}),null,this)}},{key:"onSubmit",value:function(){var e,t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("CLICKED"),this.setState({commentList:!this.state.commentList}),e=this.props.match.params.id,a.next=5,o.a.awrap(re(e));case 5:t=a.sent,this.setState({commentList:t});case 7:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){console.log(this.props);var e=this.state.commentList,t=this.props.user;return console.log("should show user props",t),r.a.createElement("div",{className:"pl-4 ml-4"},r.a.createElement("h1",null,"Comments"),e&&e.map((function(e){return r.a.createElement("div",{className:"UserComment card mb-3 text-dark w-75"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{className:"CommentUserIcon",src:t.image,alt:"userIcon"})),r.a.createElement("div",{className:"col-md-8 ml-2"},r.a.createElement("h5",{className:"card-title"},e.user.name),e.image&&r.a.createElement("img",{className:"CommentImg",src:e.image,alt:"Comment pic"}),r.a.createElement("div",{className:"card-text"},r.a.createElement("p",null,e.text)))))})),r.a.createElement(ce,Object.assign({},this.props,{onSubmit:this.onSubmit})))}}]),t}(n.Component),oe=a(36),ie=a.n(oe);a(103);ie.a.accessToken="pk.eyJ1IjoiZ3RjYXJtb25hIiwiYSI6ImNrMzc1dmxnNTAyb3kzaG5vZmhhazYzcTAifQ.pn8VB17KBKKfWtOmPo7kWQ";var me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getCurrentCoordinates=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){a.setState({lng:e.coords.longitude,lat:e.coords.latitude}),a.initMap(a.state.lng,a.state.lat)}))},a.state={lng:"",lat:"",restaurants:null},a.mapRef=r.a.createRef(),a.map=null,a.initMap=a.initMap.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"initMap",value:function(e,t){this.map=new ie.a.Map({container:this.mapRef.current,style:"mapbox://styles/mapbox/streets-v11",center:[e,t],zoom:11}),this.map.addControl(new ie.a.NavigationControl),this.marker=new ie.a.Marker({color:"blue"}).setLngLat([e,t]).addTo(this.map),this.markerRestaurant=new ie.a.Marker({color:"green"}).setLngLat([this.props.lng,this.props.lat]).addTo(this.map)}},{key:"componentDidMount",value:function(){this.getCurrentCoordinates()}},{key:"render",value:function(){return r.a.createElement("div",{className:"mapbox",ref:this.mapRef,style:{height:200}})}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={restaurant:null,user:a.props.user,favorites:null},a.addToFavoritesButton=a.addToFavoritesButton.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e,t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props.match.params.id,a.prev=1,a.next=4,o.a.awrap(X(e));case 4:t=a.sent,this.setState({restaurant:t,user:this.props.user}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0),this.props.history.push("/error/404");case 12:case"end":return a.stop()}}),null,this,[[1,8]])}},{key:"addToFavoritesButton",value:function(e,t){var a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),a=this.props.match.params.id,console.log("addToFavoritesButton STATE",a,t),n.prev=3,n.next=6,o.a.awrap(k(a,t));case 6:return n.next=8,o.a.awrap(this.props.loadUser());case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),null,this,[[3,10]])}},{key:"render",value:function(){var e=this,t=this.state.restaurant,a=this.state.user;return r.a.createElement("div",{className:"MinPageHeight mt-4 pt-4"},t&&r.a.createElement("div",{className:"SingleRestaurantCard card m-5 p-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:t.featured_image,className:"card-img",alt:"..."}),r.a.createElement(me,{lat:t.location.latitude,lng:t.location.longitude})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},"Cuisines: ",t.cuisines),r.a.createElement("p",{className:"card-text"},"Type: ",t.establishment),r.a.createElement("p",{className:"card-text"},"Average cost: ",t.average_cost_for_two/2,t.currency),r.a.createElement("p",{className:"card-text"},"Neighborhood: ",t.location.locality_verbose),r.a.createElement("p",{className:"card-text"},"Address: ",t.location.address),r.a.createElement("p",{className:"card-text"},"Contact: ",t.phone_numbers),r.a.createElement("p",{className:"card-text"},"Zomato Rating",":"," ",t.user_rating.aggregate_rating," (",t.user_rating.rating_text,")"),a&&r.a.createElement("div",null,!this.props.user.favorites.id&&r.a.createElement(y.a,{onClick:function(a){e.addToFavoritesButton(a,t.name)},className:"btn MyBtn"},"Remove from Favorites")||r.a.createElement(y.a,{onClick:function(a){e.addToFavoritesButton(a,t.name)},className:"btn MyBtn"},"Add to Favorites")))))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(le,this.props),r.a.createElement("br",null)))}}]),t}(n.Component),he=(a(60),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MinPageHeight m-5 p-5"},r.a.createElement("h1",null,"ShopListView"))}}]),t}(n.Component)),pe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MinPageHeight m-5 p-5"},r.a.createElement("h1",null,"SingleShopView"))}}]),t}(n.Component),de=(a(61),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MinPageHeight m-5 p-5"},r.a.createElement("h1",null,"EventListView"))}}]),t}(n.Component)),ge=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MinPageHeight m-5 p-5"},r.a.createElement("h1",null,"SingleEventView"))}}]),t}(n.Component),be=(a(104),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e={404:"Page not found",401:"User not authorized",500:"Server error"}[this.props.match.params.code]||"Unknown error";return r.a.createElement("main",{className:"MinPageHeight m-5 p-5"},r.a.createElement("h2",null,"Something went wrong..."),r.a.createElement("h5",null,e))}}]),t}(n.Component)),fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={user:null,loaded:!1},a.changeAuthenticationStatus=a.changeAuthenticationStatus.bind(Object(p.a)(a)),a.verifyAuthentication=a.verifyAuthentication.bind(Object(p.a)(a)),a.loadUser=a.loadUser.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(this.loadUser());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),null,this,[[0,5]])}},{key:"loadUser",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(C());case 3:e=t.sent,console.log("USEERRRRRRRRRRRRRRRRRRRRRRRRRRR",e),this.setState({user:e,loaded:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,this,[[0,8]])}},{key:"changeAuthenticationStatus",value:function(e){this.setState({user:e})}},{key:"verifyAuthentication",value:function(){return this.state.user}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,null,r.a.createElement(S,{user:this.state.user,changeAuthenticationStatus:this.changeAuthenticationStatus}),this.state.loaded&&r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/join",render:function(t){return r.a.createElement(q,Object.assign({},t,{changeAuthenticationStatus:e.changeAuthenticationStatus}))}}),r.a.createElement(b.b,{path:"/login",render:function(t){return r.a.createElement(Q,Object.assign({},t,{changeAuthenticationStatus:e.changeAuthenticationStatus}))}}),r.a.createElement(b.b,{path:"/error/:code",component:be}),r.a.createElement(b.b,{path:"/",exact:!0,component:T}),r.a.createElement(b.b,{path:"/restaurant-list",exact:!0,component:ae}),r.a.createElement(b.b,{path:"/shop-list",exact:!0,component:he}),r.a.createElement(b.b,{path:"/event-list",exact:!0,component:de}),r.a.createElement(b.b,{path:"/restaurant/:id",exact:!0,render:function(t){return r.a.createElement(ue,Object.assign({},t,{user:e.state.user,loadUser:e.loadUser}))}}),r.a.createElement(b.b,{path:"/user-profile/edit",render:function(t){return r.a.createElement(K,Object.assign({},t,{user:e.state.user,loadUser:e.loadUser}))}}),r.a.createElement(b.b,{path:"/user-profile",render:function(t){return r.a.createElement(J,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(b.b,{path:"/shop/:id",exact:!0,component:pe}),r.a.createElement(b.b,{path:"/event/:id",exact:!0,component:ge}),r.a.createElement(b.a,{to:"/error/404"})),r.a.createElement(I,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){},48:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){e.exports=a(105)},74:function(e,t,a){},76:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.e642d3a2.chunk.js.map